import { h } from '@logicflow/core'
import RectNode from '../basic/RectNode'

class Model extends RectNode.model {
  initNodeData(data) {
    super.initNodeData(data)
    this.width = 110
    this.height = 100
  }
}

class View extends RectNode.view {
  getResizeShape() {
    const { x, y, width, height } = this.props.model
    const style = this.props.model.getNodeStyle()
    const svgAttr = {
      x: x - 1/2 * width,
      y: y - 1/2 * height,
      width,
      height,
    }
    const pathAAttrs1 = {
      ...style,
      d: 'M256 23.272727v23.272728C175.522909 46.545455 141.498182 80.849455 139.706182 135.074909L139.636364 139.636364v256c0 47.778909-9.681455 72.494545-34.653091 98.327272L86.481455 512l16.919272 16.430545 1.582546 1.605819c23.738182 24.552727 33.652364 48.081455 34.583272 91.322181L139.636364 628.363636v256c0 55.319273 31.837091 91.112727 109.754181 93.021091L256 977.454545v23.272728c-93.742545 0-137.588364-44.846545-139.566545-111.569455L116.363636 884.363636V628.363636c0-41.844364-7.400727-60.741818-28.113454-82.152727l-26.670546-25.972364a11.636364 11.636364 0 0 1 0-16.47709l26.670546-25.972364c19.618909-20.293818 27.298909-38.330182 28.043636-75.729455L116.363636 395.636364V139.636364c0-67.723636 41.658182-114.176 133.026909-116.293819L256 23.272727zM768 23.272727c93.742545 0 137.588364 44.846545 139.566545 111.569455L907.636364 139.636364v256c0 41.844364 7.400727 60.741818 28.113454 82.152727l26.670546 25.972364a11.636364 11.636364 0 0 1 0 16.47709l-26.670546 25.972364c-19.618909 20.293818-27.298909 38.330182-28.043636 75.729455L907.636364 628.363636v256c0 67.723636-41.658182 114.176-133.026909 116.293819L768 1000.727273v-23.272728c80.477091 0 114.501818-34.304 116.293818-88.529454L884.363636 884.363636V628.363636c0-47.778909 9.681455-72.494545 34.653091-98.327272l15.685818-15.336728 2.792728-2.699636-16.896-16.430545-1.582546-1.605819c-23.738182-24.552727-33.652364-48.081455-34.583272-91.322181L884.363636 395.636364V139.636364c0-55.319273-31.837091-91.112727-109.754181-93.021091L768 46.545455V23.272727z',
      'stroke-width': 2,
      'fill': '#333'
    }
    //<svg t="1653411851868" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7098" width="160" height="160"><path d="M256 23.272727v23.272728C175.522909 46.545455 141.498182 80.849455 139.706182 135.074909L139.636364 139.636364v256c0 47.778909-9.681455 72.494545-34.653091 98.327272L86.481455 512l16.919272 16.430545 1.582546 1.605819c23.738182 24.552727 33.652364 48.081455 34.583272 91.322181L139.636364 628.363636v256c0 55.319273 31.837091 91.112727 109.754181 93.021091L256 977.454545v23.272728c-93.742545 0-137.588364-44.846545-139.566545-111.569455L116.363636 884.363636V628.363636c0-41.844364-7.400727-60.741818-28.113454-82.152727l-26.670546-25.972364a11.636364 11.636364 0 0 1 0-16.47709l26.670546-25.972364c19.618909-20.293818 27.298909-38.330182 28.043636-75.729455L116.363636 395.636364V139.636364c0-67.723636 41.658182-114.176 133.026909-116.293819L256 23.272727zM768 23.272727c93.742545 0 137.588364 44.846545 139.566545 111.569455L907.636364 139.636364v256c0 41.844364 7.400727 60.741818 28.113454 82.152727l26.670546 25.972364a11.636364 11.636364 0 0 1 0 16.47709l-26.670546 25.972364c-19.618909 20.293818-27.298909 38.330182-28.043636 75.729455L907.636364 628.363636v256c0 67.723636-41.658182 114.176-133.026909 116.293819L768 1000.727273v-23.272728c80.477091 0 114.501818-34.304 116.293818-88.529454L884.363636 884.363636V628.363636c0-47.778909 9.681455-72.494545 34.653091-98.327272l15.685818-15.336728 2.792728-2.699636-16.896-16.430545-1.582546-1.605819c-23.738182-24.552727-33.652364-48.081455-34.583272-91.322181L884.363636 395.636364V139.636364c0-55.319273-31.837091-91.112727-109.754181-93.021091L768 46.545455V23.272727z" fill="#505050" p-id="7099"></path></svg>
    return h('svg', {  ...svgAttr, viewBox: '0 0 1024 1024' }, [
      h('path', {
        ...pathAAttrs1,
      }),
    ])
  }
}

export default {
  type: 'uml-constraint',
  view: View,
  model: Model
}